20260113 17:22:57 - MainProcess | MainThread | db_utils.execute_query:165 - ERROR -(pymysql.err.ProgrammingError) (1146, "Table 'test_db1.scores' doesn't exist")
[SQL: select * from scores]
(Background on this error at: https://sqlalche.me/e/20/f405)
20260113 17:28:35 - MainProcess | MainThread | db_utils.validate_query:193 - ERROR -(pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '* from scores' at line 1")
[SQL: EXPLAIN SELECT ** from scores]
(Background on this error at: https://sqlalche.me/e/20/f405)
20260114 09:53:34 - MainProcess | MainThread | db_utils.get_table_names:35 - ERROR -(pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x0000021382AB5620>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 863, in create_connection
    raise exceptions[0]
          └ []
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=0>

ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x00000213841E49A0>
    │                        └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x0000021384576A10>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x00000213834DF9C0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
           └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x0000021383501A80>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x00000213835005E0>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x0000021383515440>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x00000213845E4440>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError(2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x00000213834DF740>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x0000021384506CF0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x0000021384576A40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError(2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x0000021384506CF0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x0000021384394900>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x0000021384506CF0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'localhost', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x00000213842AD120>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x00000213843915D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': 'localhost', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x00000213843915D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000002138457E480>
    └ <pymysql.connections.Connection object at 0x0000021384577010>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 723, in connect
    raise exc
          └ OperationalError(2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 200, in <module>
    print(db_manager.get_table_names())
          │          └ <function MySQLDatabaseManager.get_table_names at 0x00000213842B0C20>
          └ <__main__.MySQLDatabaseManager object at 0x00000213831E90D0>

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 32, in get_table_names
    inspector = inspect(self.engine)
                │       │    └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
                │       └ <__main__.MySQLDatabaseManager object at 0x00000213831E90D0>
                └ <function inspect at 0x00000213835347C0>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\inspection.py", line 140, in inspect
    ret = reg(subject)
          │   └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
          └ <function Inspector._engine_insp at 0x000002138427C540>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\reflection.py", line 313, in _engine_insp
    return Inspector._construct(Inspector._init_engine, bind)
           │         │          │         │             └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
           │         │          │         └ <function Inspector._init_engine at 0x000002138427C180>
           │         │          └ <class 'sqlalchemy.engine.reflection.Inspector'>
           │         └ <classmethod(<function Inspector._construct at 0x0000021384267D80>)>
           └ <class 'sqlalchemy.engine.reflection.Inspector'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\reflection.py", line 246, in _construct
    init(self, bind)
    │    │     └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
    │    └ <sqlalchemy.engine.reflection.Inspector object at 0x0000021384393F90>
    └ <function Inspector._init_engine at 0x000002138427C180>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\reflection.py", line 257, in _init_engine
    engine.connect().close()
    │      └ <function Engine.connect at 0x00000213841E4900>
    └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
    │          └ <classmethod(<function Connection._handle_dbapi_exception_noconnection at 0x00000213841E2160>)>
    └ <class 'sqlalchemy.engine.base.Connection'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ OperationalError(2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
          │                    │              └ (<class 'pymysql.err.OperationalError'>, OperationalError(2003, "Can't connect to MySQL server on 'localhost' ([WinError 1006...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('(pymysql.err.OperationalError) (2003, "Can\'t connect to MySQL server on \'localhost\' ([WinError 10061] 由于...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x00000213841E49A0>
    │                        └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x0000021384576A10>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x00000213834DF9C0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
           └ Engine(mysql+pymysql://root:***@localhost:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x0000021383501A80>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x00000213835005E0>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x0000021383515440>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x00000213845E4440>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError(2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x00000213834DF740>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x0000021384506CF0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x0000021384576A40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError(2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x0000021384506CF0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x0000021384394900>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x0000021384576550>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x0000021384506CF0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'localhost', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x00000213842AD120>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x00000213843915D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': 'localhost', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x00000213843915D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000002138457E480>
    └ <pymysql.connections.Connection object at 0x0000021384577010>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 723, in connect
    raise exc
          └ OperationalError(2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")

sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
20260114 09:54:10 - MainProcess | MainThread | db_utils.validate_query:193 - ERROR -(pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '* from scores' at line 1")
[SQL: EXPLAIN SELECT ** from scores]
(Background on this error at: https://sqlalche.me/e/20/f405)
20260115 14:26:06 - MainProcess | MainThread | db_utils.get_tables_with_comments:62 - ERROR -(pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on 'localhost' ([WinError 10061] 由于目标计算机积极拒绝，无法连接。)")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
20260115 15:49:19 - MainProcess | MainThread | db_utils.get_tables_with_comments:62 - ERROR -(pymysql.err.OperationalError) (1049, "Unknown database 'test'")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
20260115 15:49:19 - MainProcess | MainThread | test_to_sql_tools._run:35 - ERROR -获取表名及描述信息失败：(pymysql.err.OperationalError) (1049, "Unknown database 'test'")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001EBC3C59BC0>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001EBC3FC84D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001EBC2803240>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001EBC282D300>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001EBC2803E20>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001EBC2844D60>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001EBC3FC8F00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError(1049, "Unknown database 'test'")
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001EBC2802FC0>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001EBC3FA04B0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001EBC3FC8640>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError(1049, "Unknown database 'test'")
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001EBC3FA04B0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001EBC3DA4900>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001EBC3FA04B0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'client_f...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001EBC3CFE3E0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001EBC3DB3550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'client_f...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001EBC3DB3550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001EBC3FBE200>
    └ <pymysql.connections.Connection object at 0x000001EBC3FC86D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 681, in connect
    self._request_authentication()
    │    └ <function Connection._request_authentication at 0x000001EBC3FBE700>
    └ <pymysql.connections.Connection object at 0x000001EBC3FC86D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 958, in _request_authentication
    auth_packet = self._read_packet()
                  │    └ <function Connection._read_packet at 0x000001EBC3FBE340>
                  └ <pymysql.connections.Connection object at 0x000001EBC3FC86D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001EBC3FBC540>
    └ <pymysql.protocol.MysqlPacket object at 0x000001EBC3FB8F40>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001EBC3FB8F40>
    │   └ <function raise_mysql_exception at 0x000001EBC3E679C0>
    └ <module 'pymysql.err' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\err.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Unknown database 'test'"
          │          └ 1049
          └ <class 'pymysql.err.OperationalError'>

pymysql.err.OperationalError: (1049, "Unknown database 'test'")


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001EBC3C59B20>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001EBC3DB0410>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 145, in __init__
    Connection._handle_dbapi_exception_noconnection(
    │          └ <classmethod(<function Connection._handle_dbapi_exception_noconnection at 0x000001EBC3C53380>)>
    └ <class 'sqlalchemy.engine.base.Connection'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 2448, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ OperationalError(1049, "Unknown database 'test'")
          │                    │              └ (<class 'pymysql.err.OperationalError'>, OperationalError(1049, "Unknown database 'test'"), <traceback object at 0x000001EBC3...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('(pymysql.err.OperationalError) (1049, "Unknown database \'test\'")')
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001EBC3C59BC0>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001EBC3FC84D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001EBC2803240>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001EBC282D300>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001EBC2803E20>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001EBC2844D60>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001EBC3FC8F00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError(1049, "Unknown database 'test'")
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001EBC2802FC0>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001EBC3FA04B0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001EBC3FC8640>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError(1049, "Unknown database 'test'")
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001EBC3FA04B0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001EBC3DA4900>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001EBC3FA7590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001EBC3FA04B0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'client_f...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001EBC3CFE3E0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001EBC3DB3550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'client_f...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001EBC3DB3550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001EBC3FBE200>
    └ <pymysql.connections.Connection object at 0x000001EBC3FC86D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 681, in connect
    self._request_authentication()
    │    └ <function Connection._request_authentication at 0x000001EBC3FBE700>
    └ <pymysql.connections.Connection object at 0x000001EBC3FC86D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 958, in _request_authentication
    auth_packet = self._read_packet()
                  │    └ <function Connection._read_packet at 0x000001EBC3FBE340>
                  └ <pymysql.connections.Connection object at 0x000001EBC3FC86D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    │      └ <function MysqlPacket.raise_for_error at 0x000001EBC3FBC540>
    └ <pymysql.protocol.MysqlPacket object at 0x000001EBC3FB8F40>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    │   │                     │    └ <member '_data' of 'MysqlPacket' objects>
    │   │                     └ <pymysql.protocol.MysqlPacket object at 0x000001EBC3FB8F40>
    │   └ <function raise_mysql_exception at 0x000001EBC3E679C0>
    └ <module 'pymysql.err' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\err.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
          │          │      └ "Unknown database 'test'"
          │          └ 1049
          └ <class 'pymysql.err.OperationalError'>

sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1049, "Unknown database 'test'")
(Background on this error at: https://sqlalche.me/e/20/e3q8)


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 134, in <module>
    print(tool.invoke({}))
          │    └ <function BaseTool.invoke at 0x000001EBC2662E80>
          └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001EBC3DB0410>)

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\langchain_core\tools\base.py", line 632, in invoke
    return self.run(tool_input, **kwargs)
           │    │   │             └ {'callbacks': None, 'tags': [], 'metadata': {}, 'run_name': None, 'run_id': None, 'config': {'tags': [], 'metadata': {}, 'cal...
           │    │   └ {}
           │    └ <function BaseTool.run at 0x000001EBC26632E0>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001EBC3DB0410>)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\langchain_core\tools\base.py", line 953, in run
    response = context.run(self._run, *tool_args, **tool_kwargs)
               │       │   │    │      │            └ {}
               │       │   │    │      └ ()
               │       │   │    └ <function ListTablesTool._run at 0x000001EBC2684220>
               │       │   └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001EBC3DB0410>)
               │       └ <method 'run' of '_contextvars.Context' objects>
               └ <_contextvars.Context object at 0x000001EBC3FC8400>

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001EBC3D77740>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001EBC3DB0410>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001EBC3DB0410>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 63, in get_tables_with_comments
    raise ValueError(f"获取表名及描述信息失败：{str(e)}")

ValueError: 获取表名及描述信息失败：(pymysql.err.OperationalError) (1049, "Unknown database 'test'")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
20260115 15:49:19 - MainProcess | MainThread | db_utils.get_table_schema:116 - ERROR -(pymysql.err.OperationalError) (1049, "Unknown database 'test'")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
20260115 15:50:09 - MainProcess | MainThread | db_utils.get_table_schema:116 - ERROR -`students`
20260115 17:22:48 - MainProcess | MainThread | db_utils.get_table_schema:116 - ERROR -`students`
20260115 17:24:23 - MainProcess | MainThread | db_utils.get_table_schema:116 - ERROR -`students`
20260116 14:24:56 - SpawnProcess-1 | MainThread | test_to_sql_tools._run:35 - ERROR -Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 276
               │     └ 3
               └ <function _main at 0x000001B3DBAD82C0>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 276
           │    └ <function BaseProcess._bootstrap at 0x000001B3DB7F3380>
           └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B3DB7F28E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B3DBAB0910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    └ <function subprocess_started at 0x000001B3DDC5B600>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B3DDDE6350>>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x000001B3DDC04040>
           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x000001B3DBAB0910>
           │           │    │             │                      └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           │           │    │             └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
           │           │    └ <function Server.serve at 0x000001B3DDC5A340>
           │           └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           └ <function asyncio_run at 0x000001B3DDBC85E0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001B3DDDC46D0>
           │      └ <function Runner.run at 0x000001B3DD536980>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001B3DD5345E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B3DD534540>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B3DD536340>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B3DD4707C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6E961D0>()>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B3E6E961D0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B3E6E961D0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6E961D0>()>

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 40, in _arun
    return self._run()
           │    └ <function ListTablesTool._run at 0x000001B3E6283B00>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001B3E6B9ED40>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001B3E6A88FE0>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001B3E6A89080>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001B3E6D2BF90>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001B3E66167A0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001B3E6638860>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001B3E6617380>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001B3E6644220>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6E98A00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001B3E6616520>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6ED0D00>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6F88BC0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6ED0D00>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001B3E6B9FC40>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6ED0D00>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001B3E6B518A0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001B3E6CD2DE0>
    └ <pymysql.connections.Connection object at 0x000001B3E6F88B10>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x000001B3DBA74FE0>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <function _wrap_blocking.<locals>.wrapper at 0x000001B3E6D5B420>
    └ <socket.socket fd=3084, family=2, type=1, proto=0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\blockbuster\blockbuster.py", line 109, in wrapper
    raise BlockingError(func_name)
          │             └ 'socket.socket.connect'
          └ <class 'blockbuster.blockbuster.BlockingError'>

blockbuster.blockbuster.BlockingError: Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
20260116 14:24:58 - SpawnProcess-1 | MainThread | test_to_sql_tools._run:35 - ERROR -Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 276
               │     └ 3
               └ <function _main at 0x000001B3DBAD82C0>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 276
           │    └ <function BaseProcess._bootstrap at 0x000001B3DB7F3380>
           └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B3DB7F28E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B3DBAB0910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    └ <function subprocess_started at 0x000001B3DDC5B600>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B3DDDE6350>>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x000001B3DDC04040>
           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x000001B3DBAB0910>
           │           │    │             │                      └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           │           │    │             └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
           │           │    └ <function Server.serve at 0x000001B3DDC5A340>
           │           └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           └ <function asyncio_run at 0x000001B3DDBC85E0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001B3DDDC46D0>
           │      └ <function Runner.run at 0x000001B3DD536980>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001B3DD5345E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B3DD534540>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B3DD536340>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B3DD4707C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E4482EC0>()>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B3E4482EC0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B3E4482EC0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E4482EC0>()>

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 40, in _arun
    return self._run()
           │    └ <function ListTablesTool._run at 0x000001B3E6283B00>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001B3E6B9ED40>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001B3E6A88FE0>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001B3E6A89080>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001B3E6FB1650>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001B3E66167A0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001B3E6638860>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001B3E6617380>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001B3E6644220>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6FB3FC0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001B3E6616520>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74D00>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6FB0F40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74D00>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001B3E6B9FC40>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74D00>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001B3E6B518A0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001B3E6CD2DE0>
    └ <pymysql.connections.Connection object at 0x000001B3E6FB1B10>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x000001B3DBA74FE0>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <function _wrap_blocking.<locals>.wrapper at 0x000001B3E6D5B420>
    └ <socket.socket fd=3556, family=2, type=1, proto=0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\blockbuster\blockbuster.py", line 109, in wrapper
    raise BlockingError(func_name)
          │             └ 'socket.socket.connect'
          └ <class 'blockbuster.blockbuster.BlockingError'>

blockbuster.blockbuster.BlockingError: Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
20260116 14:24:59 - SpawnProcess-1 | MainThread | test_to_sql_tools._run:35 - ERROR -Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 276
               │     └ 3
               └ <function _main at 0x000001B3DBAD82C0>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 276
           │    └ <function BaseProcess._bootstrap at 0x000001B3DB7F3380>
           └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B3DB7F28E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B3DBAB0910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    └ <function subprocess_started at 0x000001B3DDC5B600>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B3DDDE6350>>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x000001B3DDC04040>
           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x000001B3DBAB0910>
           │           │    │             │                      └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           │           │    │             └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
           │           │    └ <function Server.serve at 0x000001B3DDC5A340>
           │           └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           └ <function asyncio_run at 0x000001B3DDBC85E0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001B3DDDC46D0>
           │      └ <function Runner.run at 0x000001B3DD536980>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001B3DD5345E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B3DD534540>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B3DD536340>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B3DD4707C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E4482EC0>()>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B3E4482EC0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B3E4482EC0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E4482EC0>()>

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 40, in _arun
    return self._run()
           │    └ <function ListTablesTool._run at 0x000001B3E6283B00>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001B3E6B9ED40>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001B3E6A88FE0>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001B3E6A89080>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001B3E6FB1F10>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001B3E66167A0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001B3E6638860>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001B3E6617380>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001B3E6644220>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6FB3040>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001B3E6616520>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74C20>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6FB1000>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74C20>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001B3E6B9FC40>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74C20>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001B3E6B518A0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001B3E6CD2DE0>
    └ <pymysql.connections.Connection object at 0x000001B3E6FB0ED0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x000001B3DBA74FE0>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <function _wrap_blocking.<locals>.wrapper at 0x000001B3E6D5B420>
    └ <socket.socket fd=3564, family=2, type=1, proto=0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\blockbuster\blockbuster.py", line 109, in wrapper
    raise BlockingError(func_name)
          │             └ 'socket.socket.connect'
          └ <class 'blockbuster.blockbuster.BlockingError'>

blockbuster.blockbuster.BlockingError: Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
20260116 14:25:00 - SpawnProcess-1 | MainThread | test_to_sql_tools._run:35 - ERROR -Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 276
               │     └ 3
               └ <function _main at 0x000001B3DBAD82C0>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 276
           │    └ <function BaseProcess._bootstrap at 0x000001B3DB7F3380>
           └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B3DB7F28E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B3DBAB0910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    └ <function subprocess_started at 0x000001B3DDC5B600>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B3DDDE6350>>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x000001B3DDC04040>
           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x000001B3DBAB0910>
           │           │    │             │                      └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           │           │    │             └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
           │           │    └ <function Server.serve at 0x000001B3DDC5A340>
           │           └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           └ <function asyncio_run at 0x000001B3DDBC85E0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001B3DDDC46D0>
           │      └ <function Runner.run at 0x000001B3DD536980>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001B3DD5345E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B3DD534540>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B3DD536340>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B3DD4707C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6DC7C10>()>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B3E6DC7C10>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B3E6DC7C10>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6DC7C10>()>

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 40, in _arun
    return self._run()
           │    └ <function ListTablesTool._run at 0x000001B3E6283B00>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001B3E6B9ED40>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001B3E6A88FE0>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001B3E6A89080>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001B3E6F8E690>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001B3E66167A0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001B3E6638860>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001B3E6617380>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001B3E6644220>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6F8FD00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001B3E6616520>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74520>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6F8FB40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74520>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001B3E6B9FC40>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74520>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001B3E6B518A0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001B3E6CD2DE0>
    └ <pymysql.connections.Connection object at 0x000001B3E6F8DD50>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x000001B3DBA74FE0>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <function _wrap_blocking.<locals>.wrapper at 0x000001B3E6D5B420>
    └ <socket.socket fd=3544, family=2, type=1, proto=0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\blockbuster\blockbuster.py", line 109, in wrapper
    raise BlockingError(func_name)
          │             └ 'socket.socket.connect'
          └ <class 'blockbuster.blockbuster.BlockingError'>

blockbuster.blockbuster.BlockingError: Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
20260116 14:25:02 - SpawnProcess-1 | MainThread | test_to_sql_tools._run:35 - ERROR -Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 276
               │     └ 3
               └ <function _main at 0x000001B3DBAD82C0>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 276
           │    └ <function BaseProcess._bootstrap at 0x000001B3DB7F3380>
           └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B3DB7F28E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B3DBAB0910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    └ <function subprocess_started at 0x000001B3DDC5B600>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B3DDDE6350>>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x000001B3DDC04040>
           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x000001B3DBAB0910>
           │           │    │             │                      └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           │           │    │             └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
           │           │    └ <function Server.serve at 0x000001B3DDC5A340>
           │           └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           └ <function asyncio_run at 0x000001B3DDBC85E0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001B3DDDC46D0>
           │      └ <function Runner.run at 0x000001B3DD536980>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001B3DD5345E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B3DD534540>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B3DD536340>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B3DD4707C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F71600>()>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F71600>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F71600>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F71600>()>

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 40, in _arun
    return self._run()
           │    └ <function ListTablesTool._run at 0x000001B3E6283B00>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001B3E6B9ED40>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001B3E6A88FE0>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001B3E6A89080>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001B3E6EAE310>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001B3E66167A0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001B3E6638860>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001B3E6617380>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001B3E6644220>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6EAE5C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001B3E6616520>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74210>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E6EAD8C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74210>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001B3E6B9FC40>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6F74210>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001B3E6B518A0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001B3E6CD2DE0>
    └ <pymysql.connections.Connection object at 0x000001B3E6EAF550>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x000001B3DBA74FE0>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <function _wrap_blocking.<locals>.wrapper at 0x000001B3E6D5B420>
    └ <socket.socket fd=3568, family=2, type=1, proto=0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\blockbuster\blockbuster.py", line 109, in wrapper
    raise BlockingError(func_name)
          │             └ 'socket.socket.connect'
          └ <class 'blockbuster.blockbuster.BlockingError'>

blockbuster.blockbuster.BlockingError: Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
20260116 14:26:00 - SpawnProcess-1 | MainThread | test_to_sql_tools._run:35 - ERROR -Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 276
               │     └ 3
               └ <function _main at 0x000001B3DBAD82C0>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 276
           │    └ <function BaseProcess._bootstrap at 0x000001B3DB7F3380>
           └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B3DB7F28E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B3DBAB0910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    └ <function subprocess_started at 0x000001B3DDC5B600>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B3DDDE6350>>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x000001B3DDC04040>
           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x000001B3DBAB0910>
           │           │    │             │                      └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           │           │    │             └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
           │           │    └ <function Server.serve at 0x000001B3DDC5A340>
           │           └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           └ <function asyncio_run at 0x000001B3DDBC85E0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001B3DDDC46D0>
           │      └ <function Runner.run at 0x000001B3DD536980>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001B3DD5345E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B3DD534540>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B3DD536340>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B3DD4707C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F54F40>()>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F54F40>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F54F40>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F54F40>()>

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 40, in _arun
    return self._run()
           │    └ <function ListTablesTool._run at 0x000001B3E6283B00>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001B3E6B9ED40>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001B3E6A88FE0>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001B3E6A89080>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001B3E85A1710>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001B3E66167A0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001B3E6638860>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001B3E6617380>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001B3E6644220>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E85A1E40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001B3E6616520>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6ED1470>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E85A07C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6ED1470>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001B3E6B9FC40>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E6ED1470>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001B3E6B518A0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001B3E6CD2DE0>
    └ <pymysql.connections.Connection object at 0x000001B3E85A1A10>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x000001B3DBA74FE0>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <function _wrap_blocking.<locals>.wrapper at 0x000001B3E6D5B420>
    └ <socket.socket fd=3084, family=2, type=1, proto=0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\blockbuster\blockbuster.py", line 109, in wrapper
    raise BlockingError(func_name)
          │             └ 'socket.socket.connect'
          └ <class 'blockbuster.blockbuster.BlockingError'>

blockbuster.blockbuster.BlockingError: Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
20260116 14:26:01 - SpawnProcess-1 | MainThread | test_to_sql_tools._run:35 - ERROR -Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 276
               │     └ 3
               └ <function _main at 0x000001B3DBAD82C0>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 276
           │    └ <function BaseProcess._bootstrap at 0x000001B3DB7F3380>
           └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B3DB7F28E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B3DBAB0910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    └ <function subprocess_started at 0x000001B3DDC5B600>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B3DDDE6350>>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x000001B3DDC04040>
           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x000001B3DBAB0910>
           │           │    │             │                      └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           │           │    │             └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
           │           │    └ <function Server.serve at 0x000001B3DDC5A340>
           │           └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           └ <function asyncio_run at 0x000001B3DDBC85E0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001B3DDDC46D0>
           │      └ <function Runner.run at 0x000001B3DD536980>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001B3DD5345E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B3DD534540>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B3DD536340>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B3DD4707C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F56A70>()>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F56A70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F56A70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F56A70>()>

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 40, in _arun
    return self._run()
           │    └ <function ListTablesTool._run at 0x000001B3E6283B00>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001B3E6B9ED40>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001B3E6A88FE0>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001B3E6A89080>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001B3E858EA90>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001B3E66167A0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001B3E6638860>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001B3E6617380>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001B3E6644220>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E858D500>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001B3E6616520>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E85A7620>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E858D940>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E85A7620>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001B3E6B9FC40>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E85A7620>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001B3E6B518A0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001B3E6CD2DE0>
    └ <pymysql.connections.Connection object at 0x000001B3E858D8D0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x000001B3DBA74FE0>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <function _wrap_blocking.<locals>.wrapper at 0x000001B3E6D5B420>
    └ <socket.socket fd=3616, family=2, type=1, proto=0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\blockbuster\blockbuster.py", line 109, in wrapper
    raise BlockingError(func_name)
          │             └ 'socket.socket.connect'
          └ <class 'blockbuster.blockbuster.BlockingError'>

blockbuster.blockbuster.BlockingError: Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
20260116 14:26:02 - SpawnProcess-1 | MainThread | test_to_sql_tools._run:35 - ERROR -Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 276
               │     └ 3
               └ <function _main at 0x000001B3DBAD82C0>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 276
           │    └ <function BaseProcess._bootstrap at 0x000001B3DB7F3380>
           └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001B3DB7F28E0>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001B3DBAB0910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
    │    └ <function subprocess_started at 0x000001B3DDC5B600>
    └ <SpawnProcess name='SpawnProcess-1' parent=8728 started>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001B3DDDE6350>>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x000001B3DDC04040>
           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x000001B3DBAB0910>
           │           │    │             │                      └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           │           │    │             └ [<socket.socket fd=532, family=2, type=1, proto=6, laddr=('127.0.0.1', 2024)>]
           │           │    └ <function Server.serve at 0x000001B3DDC5A340>
           │           └ <uvicorn.server.Server object at 0x000001B3DDDE6350>
           └ <function asyncio_run at 0x000001B3DDBC85E0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001B3DDDC46D0>
           │      └ <function Runner.run at 0x000001B3DD536980>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\Software\anaconda3\envs\py311\Lib\site-packages\uvicorn\server...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001B3DD5345E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001B3DF4FF810>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B3DD534540>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B3DD536340>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B3DD4707C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F568C0>()>
  File "D:\Software\anaconda3\envs\py311\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F568C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F568C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B3E6F568C0>()>

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 40, in _arun
    return self._run()
           │    └ <function ListTablesTool._run at 0x000001B3E6283B00>
           └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

> File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\tools\test_to_sql_tools.py", line 19, in _run
    tables_info = self.db_manager.get_tables_with_comments()
                  │    │          └ <function MySQLDatabaseManager.get_tables_with_comments at 0x000001B3E6B9ED40>
                  │    └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>
                  └ ListTablesTool(db_manager=<agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>)

  File "D:\PythonProject\AIProject\LangChain-tutorial\src\agent\utils\db_utils.py", line 55, in get_tables_with_comments
    with self.engine.connect() as connection:
         │    │      └ <function Engine.connect at 0x000001B3E6A88FE0>
         │    └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
         └ <agent.utils.db_utils.MySQLDatabaseManager object at 0x000001B3E6295F50>

  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3285, in connect
    return self._connection_cls(self)
           │    │               └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 143, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x000001B3E6A89080>
    │                        └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
    └ <sqlalchemy.engine.base.Connection object at 0x000001B3E85A9110>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\base.py", line 3309, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x000001B3E66167A0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ Engine(mysql+pymysql://root:***@127.0.0.1:3306/test_db1?charset=utf8mb4)
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 447, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x000001B3E6638860>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x000001B3E6617380>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 711, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x000001B3E6644220>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 177, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E85FFA40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\impl.py", line 175, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x000001B3E6616520>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 388, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 673, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E85A6120>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 899, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\sqlalchemy\\util\\__init__.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x000001B3E85FF6C0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ BlockingError("Blocking call to socket.socket.connect\n\nHeads up! LangGraph dev identified a synchronous blocking call in yo...
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\pool\base.py", line 895, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E85A6120>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x000001B3E6B9FC40>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x000001B3E6C6D590>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x000001B3E85A6120>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\create.py", line 661, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x000001B3E6B518A0>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\sqlalchemy\engine\default.py", line 630, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': '127.0.0.1', 'database': 'test_db1', 'user': 'root', 'password': '123456', 'port': 3306, 'charset': 'utf8mb4', 'clie...
           │    │            │        └ ()
           │    │            └ <class 'pymysql.connections.Connection'>
           │    └ <module 'pymysql' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\site-packages\\pymysql\\__init__.py'>
           └ <sqlalchemy.dialects.mysql.pymysql.MySQLDialect_pymysql object at 0x000001B3E6BC1CD0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 365, in __init__
    self.connect()
    │    └ <function Connection.connect at 0x000001B3E6CD2DE0>
    └ <pymysql.connections.Connection object at 0x000001B3E85FFC90>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\pymysql\connections.py", line 661, in connect
    sock = socket.create_connection(
           │      └ <function create_connection at 0x000001B3DBA74FE0>
           └ <module 'socket' from 'D:\\Software\\anaconda3\\envs\\py311\\Lib\\socket.py'>
  File "D:\Software\anaconda3\envs\py311\Lib\socket.py", line 848, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 3306)
    │    └ <function _wrap_blocking.<locals>.wrapper at 0x000001B3E6D5B420>
    └ <socket.socket fd=3544, family=2, type=1, proto=0>
  File "D:\Software\anaconda3\envs\py311\Lib\site-packages\blockbuster\blockbuster.py", line 109, in wrapper
    raise BlockingError(func_name)
          │             └ 'socket.socket.connect'
          └ <class 'blockbuster.blockbuster.BlockingError'>

blockbuster.blockbuster.BlockingError: Blocking call to socket.socket.connect

Heads up! LangGraph dev identified a synchronous blocking call in your code. When running in an ASGI web server, blocking calls can degrade performance for everyone since they tie up the event loop.

Here are your options to fix this:

1. Best approach: Convert any blocking code to use async/await patterns
   For example, use 'await aiohttp.get()' instead of 'requests.get()'

2. Quick fix: Move blocking operations to a separate thread
   Example: 'await asyncio.to_thread(your_blocking_function)'

3. Override (if you can't change the code):
   - For development: Run 'langgraph dev --allow-blocking'
   - For deployment: Set 'BG_JOB_ISOLATED_LOOPS=true' environment variable

These blocking operations can prevent health checks and slow down other runs in your deployment. Following these recommendations will help keep your LangGraph application running smoothly!
